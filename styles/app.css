:root{
  --bg:#0b0e13; --panel:#151a22; --text:#e6e6e6; --muted:#9aa3af; --accent:#56b6c2;
  --btn:#1f2632; --btn-hover:#2a3343; --border:#263040;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:14px/1.35 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji"}
.app{display:grid;grid-template-rows:auto 1fr auto; height:100%}
header,footer{background:var(--panel);border-bottom:1px solid var(--border);}
footer{border-top:1px solid var(--border);border-bottom:none}
header .row, footer .row{display:flex;gap:.5rem;align-items:center;padding:.5rem 1rem;flex-wrap:wrap}
.btn{background:var(--btn);border:1px solid var(--border);color:var(--text);padding:.45rem .7rem;border-radius:.6rem;cursor:pointer}
.btn:hover{background:var(--btn-hover)}
.btn[disabled]{opacity:.45;cursor:not-allowed}
.btn.active{border-color:var(--accent);color:var(--accent)}
.toolbar-group{display:flex;gap:.5rem;align-items:center}
.sep{width:1px;align-self:stretch;background:var(--border);margin:0 .25rem}
label{color:var(--muted)}

.viewer{position:relative;overflow:hidden;background:#000;}
.canvas-wrap{position:absolute;inset:0;overflow:hidden;}
.page{position:absolute;top:0;left:50%;max-width:none;max-height:none;transform-origin:top center;transition:transform .08s ease-out;image-rendering:auto}
.dragging{cursor:grabbing}

.thumbs{position:absolute;left:0;top:0;bottom:0;width:180px;background:rgba(10,14,20,.92);border-right:1px solid var(--border);overflow:auto;transform:translateX(-101%);transition:transform .18s ease-out;z-index:3}
.thumbs.open{transform:none}
.thumb{padding:.4rem;border-bottom:1px solid var(--border);cursor:pointer;display:flex;gap:.5rem;align-items:center}
.thumb img{width:70px;height:auto;border:1px solid var(--border);border-radius:.35rem;display:block}
.thumb .meta{font-size:12px;color:var(--muted)}
.thumb.active{background:rgba(86,182,194,.1)}

.page-counter{font-variant-numeric:tabular-nums}
input[type="number"], input[type="range"], input[type="text"], select{background:var(--btn);color:var(--text);border:1px solid var(--border);border-radius:.5rem;padding:.35rem .5rem}
input[type="range"]{accent-color:var(--accent)}

.hint{color:var(--muted)}
.link{color:var(--accent)}

.toast{position:absolute;right:12px;bottom:12px;background:rgba(0,0,0,.6);padding:.5rem .7rem;border-radius:.6rem;border:1px solid var(--border);color:var(--text);opacity:0;transform:translateY(8px);transition:all .2s}
.toast.show{opacity:1;transform:none}

.modal{position:fixed;inset:0;background:rgba(9,12,18,.78);display:none;align-items:center;justify-content:center;z-index:50}
.modal.show{display:flex}
.modal-card{background:var(--panel);border:1px solid var(--border);border-radius:.75rem;max-width:640px;max-height:70vh;display:flex;flex-direction:column;box-shadow:0 12px 40px rgba(0,0,0,.6)}
.modal-header{padding:.75rem 1rem;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:1rem}
.modal-title{font-weight:600}
.modal-close{background:none;border:none;color:var(--muted);font-size:1.2rem;cursor:pointer}
.modal-body{padding:1rem;overflow:auto;line-height:1.6;font-size:15px;white-space:pre-wrap}

@media (min-width: 1100px){
  .app{grid-template-columns:auto 1fr}
  .viewer{grid-column:1/-1}
}
